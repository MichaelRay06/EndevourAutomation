"use strict";
/* IMPORT */
Object.defineProperty(exports, "__esModule", { value: true });
const JSON5 = require("json5");
const config_1 = require("../config");
const type_1 = require("./type");
/* SERIALIZER */
const Serializer = {
    serialize(data, indentation = config_1.DEFAULTS.indentation) {
        try {
            return JSON.stringify(data, undefined, indentation);
        }
        catch (_a) {
            return config_1.DEFAULTS.dataRaw;
        }
    },
    deserialize(raw) {
        try {
            const data = JSON5.parse(raw);
            return type_1.default.isObject(data) ? data : config_1.DEFAULTS.data;
        }
        catch (_a) {
            return config_1.DEFAULTS.data;
        }
    }
};
/* EXPORT */
exports.default = Serializer;
